<app-demographic-data></app-demographic-data>

<mat-drawer-container hasBackdrop="false">

  <mat-drawer #resultViewerSidenav class="registry-viewer-drawer" mode="side" position="end" disableClose closed>
    <app-side-panel [registrySchemaTag]="registrySchema.tag"></app-side-panel>
  </mat-drawer>

  <mat-drawer-content>
    <ng-container *ngIf="isLoading" class="spinner-container">
      <div class="spinner">
        <mat-spinner></mat-spinner>
      </div>
    </ng-container>

    <div class="centered-content">

      <mat-button-toggle-group class="margin-lg">

        <mat-button-toggle [checked]="isDefaultViewActive" (click)="onViewSelected(true);">
          Summary View
        </mat-button-toggle>

        <mat-button-toggle (click)="onViewSelected(false);">
          Chronological View
        </mat-button-toggle>

      </mat-button-toggle-group>
    </div>

    <div style="max-width: 85%; margin: auto">
      <app-chronological-view [registrySchemaTag]="registrySchema.tag" *ngIf="!isDefaultViewActive"></app-chronological-view>
      <app-summary-view *ngIf="isDefaultViewActive" [registrySchemaTag]="registrySchema.tag" ></app-summary-view>
    </div>
  </mat-drawer-content>

</mat-drawer-container>


