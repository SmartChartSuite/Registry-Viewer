<div class="container top-spacer">
  <h1>George P. Burdell</h1>
  <div style="margin-bottom: 2em">
    Demographic data here.
  </div>
  <mat-grid-list [cols]="breakpoint" rowHeight="1:1" (window:resize)="onResize($event)">

    <mat-grid-tile>
      <mat-card class="mat-elevation-z4">

        <mat-card-header>
          <mat-card-title>Lab Results</mat-card-title>
        </mat-card-header>

        <mat-card-content style="margin-top:20px" [style.overflow]="'auto'" [style.height.%]="matCardContentHeight">
          <table>
            <thead>
            <tr>
              <th>Group</th>
              <th>Date</th>
              <th>Test</th>
              <th>Result</th>
              <th>Note</th>
              <th>Details</th>
            </tr>
            </thead>
            <tbody>
            <ng-container *ngFor="let labResult of labResultsFormatted">
              <tr>
                <td [attr.rowspan]="labResult.values.length" style="font-weight: bold;  width: 20%;">{{labResult.group}}</td>
                <td style="font-size: 11px;">{{labResult.values[0].date | date:'mediumDate'}}</td>
                <td style="font-size: 11px;">{{labResult.values[0].test}}</td>
                <td style="font-size: 11px;">{{labResult.values[0].result}}</td>
                <td style="cursor: pointer; color: #3F51B5"><mat-icon matTooltip="Add Annotation">edit_note</mat-icon></td>
                <td style="cursor: pointer; text-align: center; color: #3F51B5"><mat-icon matTooltip="View Details">expand</mat-icon></td>
              </tr>
              <ng-container *ngFor="let testData of labResult.values; let i = index;">
                <tr *ngIf="i!=0">
                  <td style="font-size: 11px;">{{testData.date | date:'mediumDate'}}</td>
                  <td style="font-size: 11px;">{{testData.test}}</td>
                  <td style="font-size: 11px;">{{testData.result}}</td>
                  <td style="cursor: pointer; color: #3F51B5"><mat-icon matTooltip="Add annotation">edit_note</mat-icon></td>
                  <td style="cursor: pointer; text-align: center; color: #3F51B5"><mat-icon matTooltip="View Details">expand</mat-icon></td>
                </tr>
              </ng-container>
            </ng-container>
            </tbody>
          </table>
        </mat-card-content>

        <mat-card-actions fxFlexAlign="end" align="end">
          <span style="margin-right: 1em">
          <button mat-raised-button color="primary">
            <mat-icon>add</mat-icon>
            Add Result
          </button>
          </span>
        </mat-card-actions>

      </mat-card>
    </mat-grid-tile>

    <mat-grid-tile>
      <mat-card class="mat-elevation-z4">

        <mat-card-header>
          <mat-card-title>Diagnosis</mat-card-title>
        </mat-card-header>

        <mat-card-content style="margin-top:20px" [style.overflow]="'auto'" [style.height.%]="matCardContentHeight">
          <table>
            <thead>
            <tr>
              <th>Group</th>
              <th>Date</th>
              <th>Condition</th>
              <th></th>
            </tr>
            </thead>
            <tbody>
            <ng-container *ngFor="let diagnose of diagnosesFormatted">
              <tr>
                <td [attr.rowspan]="diagnose.values.length" style="font-weight: bold;  width: 20%;">{{diagnose.group}}</td>
                <td style="font-size: 11px; width: 20%;">{{diagnose.values[0].date | date:'mediumDate'}}</td>
                <td style="font-size: 11px;">{{diagnose.values[0].condition}}</td>
                <td><mat-icon style="font-size: 18px;">check</mat-icon></td>
              </tr>
              <ng-container *ngFor="let diagnoseData of diagnose.values; let i = index;">
                <tr *ngIf="i!=0">
                  <td style="font-size: 11px;">{{diagnoseData.date | date:'mediumDate'}}</td>
                  <td style="font-size: 11px;">{{diagnoseData.condition}}</td>
                  <td><mat-icon style="font-size: 18px;">check</mat-icon></td>
                </tr>
              </ng-container>
            </ng-container>
            </tbody>
          </table>
        </mat-card-content>

        <mat-card-actions fxFlexAlign="end" align="end">
          <span style="margin-right: 1em">
          <button mat-raised-button color="primary">
            <mat-icon>add</mat-icon>
            Add Diagnose
          </button>
          </span>
        </mat-card-actions>

      </mat-card>
    </mat-grid-tile>

    <mat-grid-tile>
      <mat-card class="mat-elevation-z4">

        <mat-card-header>
          <mat-card-title>Treatment</mat-card-title>
        </mat-card-header>

        <mat-card-content [style.overflow]="'auto'" [style.height.%]="matCardContentHeight">
          <table>
            <thead>
            <tr>
              <th>Date</th>
              <th>Medication</th>
              <th>Dose</th>
            </tr>
            </thead>
            <tbody>
            <ng-container *ngFor="let data of treatments">
              <tr *ngFor="let data of treatments">
                <td style="font-size: 11px;">{{data.date | date:'mediumDate'}}</td>
                <td style="font-size: 11px;">{{data.medication}}</td>
                <td style="font-size: 11px;">{{data.dose}}</td>
              </tr>
             </ng-container>
            </tbody>
          </table>

        </mat-card-content>

        <mat-card-actions fxFlexAlign="end" align="end">
          <span style="margin-right: 1em">
          <button mat-raised-button color="primary">
            <mat-icon>add</mat-icon>
            Add Treatment
          </button>
          </span>
        </mat-card-actions>

      </mat-card>

    </mat-grid-tile>

    <mat-grid-tile>
      <mat-card class="mat-elevation-z4">

        <mat-card-header>
          <mat-card-title>Other History</mat-card-title>
        </mat-card-header>

        <mat-card-content style="margin-top:20px" [style.overflow]="'auto'" [style.height.%]="'80'">
          <table>
            <thead>
            <tr>
              <th>Group</th>
              <th>Date</th>
              <th>Observation</th>
              <th>Result</th>
            </tr>
            </thead>
            <tbody>
            <ng-container *ngFor="let observationHistory of otherMedicalHistoryFormatted">
              <tr>
                <td [attr.rowspan]="observationHistory.values.length" style="font-weight: bold;  width: 20%;">{{observationHistory.group}}</td>
                <td style="font-size: 11px;">{{observationHistory.values[0].date | date:'mediumDate'}}</td>
                <td style="font-size: 11px;">{{observationHistory.values[0].observation}}</td>
                <td style="font-size: 11px;">{{observationHistory.values[0].value}}</td>
              </tr>
              <ng-container *ngFor="let testData of observationHistory.values; let i = index;">
                <tr *ngIf="i!=0">
                  <td style="font-size: 11px;">{{testData.date | date:'mediumDate'}}</td>
                  <td style="font-size: 11px;">{{testData.observation}}</td>
                  <td style="font-size: 11px;">{{testData.value}}</td>
                </tr>
              </ng-container>
            </ng-container>
            </tbody>
          </table>
        </mat-card-content>

        <mat-card-actions fxFlexAlign="end" align="end">
          <span style="margin-right: 1em">
          <button mat-raised-button color="primary">
            <mat-icon>add</mat-icon>
            Add Record
          </button>
          </span>
        </mat-card-actions>

      </mat-card>
    </mat-grid-tile>


  </mat-grid-list>

</div>
